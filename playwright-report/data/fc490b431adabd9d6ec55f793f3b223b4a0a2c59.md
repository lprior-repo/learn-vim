# Test info

- Name: Application Navigation - ATDD >> Given user is on home page - When clicking navigation links - Then pages load without hanging
- Location: /home/family/src/vim/tests/navigation.spec.ts:35:3

# Error details

```
Error: expect(locator).toBeVisible()

Locator: locator('.monaco-editor')
Expected: visible
Received: <element(s) not found>
Call log:
  - expect.toBeVisible with timeout 10000ms
  - waiting for locator('.monaco-editor')

    at /home/family/src/vim/tests/navigation.spec.ts:49:50
```

# Page snapshot

```yaml
- banner:
  - link "Vim Trainer":
    - /url: /
  - navigation:
    - list:
      - listitem:
        - link "Home":
          - /url: /
      - listitem:
        - link "About":
          - /url: /about
      - listitem:
        - link "Practice":
          - /url: /practice
- complementary:
  - navigation
- main
- contentinfo:
  - paragraph: Vim Trainer - Become a Vim expert through interactive exercises
  - paragraph: Practice makes perfect! Keep trying different Vim commands to build muscle memory.
- alert
- alert
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 |
   3 | /**
   4 |  * ATDD Navigation Test Suite
   5 |  * 
   6 |  * Following Acceptance Test-Driven Development principles:
   7 |  * - Tests focus on user acceptance criteria
   8 |  * - Tests verify complete user journeys
   9 |  * - Tests use Given-When-Then structure
   10 |  * - Tests ensure reliable navigation without loading issues
   11 |  */
   12 | test.describe('Application Navigation - ATDD', () => {
   13 |   
   14 |   /**
   15 |    * Helper to ensure page is fully loaded without hanging
   16 |    */
   17 |   async function ensurePageLoaded(page: any, expectedUrl?: string) {
   18 |     await page.waitForLoadState('domcontentloaded');
   19 |     await page.waitForLoadState('networkidle', { timeout: 10000 });
   20 |     
   21 |     // Ensure no loading spinners are stuck
   22 |     await expect(page.locator('.animate-spin')).not.toBeVisible();
   23 |     
   24 |     if (expectedUrl) {
   25 |       expect(page.url()).toContain(expectedUrl);
   26 |     }
   27 |   }
   28 |   
   29 |   test.beforeEach(async ({ page }) => {
   30 |     // Given: User navigates to the home page
   31 |     await page.goto('/');
   32 |     await ensurePageLoaded(page);
   33 |   });
   34 |
   35 |   test('Given user is on home page - When clicking navigation links - Then pages load without hanging', async ({ page }) => {
   36 |     // Given: User sees main call-to-action links on home page
   37 |     const practiceLink = page.getByRole('link', { name: 'Start Practicing' });
   38 |     const basicsLink = page.getByRole('link', { name: 'Learn Basics' });
   39 |     
   40 |     await expect(practiceLink).toBeVisible();
   41 |     await expect(basicsLink).toBeVisible();
   42 |     
   43 |     // When: User clicks the Learn Basics link
   44 |     await basicsLink.click();
   45 |     
   46 |     // Then: Category page loads completely without hanging
   47 |     await ensurePageLoaded(page, '/category/basic-movement');
   48 |     await expect(page.getByRole('heading', { name: 'Basic Movement' })).toBeVisible();
>  49 |     await expect(page.locator('.monaco-editor')).toBeVisible({ timeout: 10000 });
      |                                                  ^ Error: expect(locator).toBeVisible()
   50 |     
   51 |     // When: User navigates back home via header
   52 |     const homeLink = page.locator('header').getByRole('link').first();
   53 |     await homeLink.click();
   54 |     
   55 |     // Then: Home page loads without hanging
   56 |     await ensurePageLoaded(page);
   57 |     await expect(page.getByRole('heading', { name: 'Welcome to Vim Trainer' })).toBeVisible();
   58 |   });
   59 |
   60 |   test('Given user sees featured commands - When clicking view all links - Then category pages load properly', async ({ page }) => {
   61 |     // Given: User sees featured commands with "View all" links
   62 |     const viewAllLinks = page.getByText('View all →');
   63 |     expect(await viewAllLinks.count()).toBeGreaterThan(0);
   64 |     
   65 |     // When: User clicks the first "View all" link
   66 |     await viewAllLinks.first().click();
   67 |     
   68 |     // Then: Category page loads completely without hanging
   69 |     await ensurePageLoaded(page, '/category/');
   70 |     await expect(page.locator('h1, h2').first()).toBeVisible();
   71 |     await expect(page.locator('.monaco-editor')).toBeVisible({ timeout: 10000 });
   72 |   });
   73 |
   74 |   test('Given user navigates to category page - When page loads - Then editor loads without hanging', async ({ page }) => {
   75 |     // Given: User navigates to a category page directly
   76 |     await page.goto('/category/basic-movement');
   77 |     
   78 |     // When: Page loads
   79 |     await ensurePageLoaded(page, '/category/basic-movement');
   80 |     
   81 |     // Then: Editor loads properly without hanging
   82 |     await expect(page.locator('.monaco-editor').first()).toBeVisible({ timeout: 10000 });
   83 |     await expect(page.getByRole('heading', { name: 'Basic Movement' })).toBeVisible();
   84 |     
   85 |     // Given: User sees command cards on the category page
   86 |     const commandCards = page.locator('.grid .block');
   87 |     
   88 |     // When: User clicks a command card (if available)
   89 |     if (await commandCards.count() > 0) {
   90 |       await commandCards.first().click();
   91 |       
   92 |       // Then: Command detail page loads with editor
   93 |       await ensurePageLoaded(page);
   94 |       await expect(page.locator('.monaco-editor').first()).toBeVisible({ timeout: 10000 });
   95 |     }
   96 |   });
   97 |
   98 |   test('Given user is on command detail page - When navigating back home - Then navigation works without hanging', async ({ page }) => {
   99 |     // Given: User navigates to a category page first
  100 |     await page.goto('/category/basic-movement');
  101 |     await ensurePageLoaded(page, '/category/basic-movement');
  102 |     
  103 |     // Given: User navigates to a command detail page
  104 |     const commandCards = page.locator('.grid .block');
  105 |     if (await commandCards.count() > 0) {
  106 |       await commandCards.first().click();
  107 |       await ensurePageLoaded(page);
  108 |       
  109 |       // When: User clicks the home link in header
  110 |       const homeLink = page.locator('header').getByRole('link').first();
  111 |       await homeLink.click();
  112 |       
  113 |       // Then: Home page loads without hanging
  114 |       await ensurePageLoaded(page);
  115 |       await expect(page.getByRole('heading', { name: 'Welcome to Vim Trainer' })).toBeVisible();
  116 |     }
  117 |   });
  118 |
  119 |   test('Given user visits different pages - When checking layout consistency - Then header renders on all pages', async ({ page }) => {
  120 |     const pagesToTest = [
  121 |       { path: '/', name: 'Home' },
  122 |       { path: '/category/basic-movement', name: 'Category' },
  123 |       { path: '/learning-paths', name: 'Learning Paths' }
  124 |     ];
  125 |
  126 |     for (const pageTest of pagesToTest) {
  127 |       // Given: User navigates to page
  128 |       await page.goto(pageTest.path);
  129 |       
  130 |       // When: Page loads
  131 |       await ensurePageLoaded(page, pageTest.path);
  132 |       
  133 |       // Then: Header is consistently visible
  134 |       await expect(page.locator('header')).toBeVisible();
  135 |       console.log(`✓ Header visible on ${pageTest.name} page`);
  136 |     }
  137 |   });
  138 | });
```